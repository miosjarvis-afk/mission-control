<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mission Control</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #0a0a0f;
      color: #e0e0e0;
      min-height: 100vh;
      padding: 20px;
    }
    .auth-screen {
      display: flex; flex-direction: column; align-items: center;
      justify-content: center; min-height: 80vh; text-align: center;
    }
    .auth-screen h1 { font-size: 2em; margin-bottom: 10px; }
    .auth-screen input {
      background: #12121a; border: 1px solid #333; color: #fff;
      padding: 12px 20px; border-radius: 8px; width: 280px; margin-bottom: 15px;
    }
    .auth-screen button {
      background: #3b82f6; color: #fff; border: none;
      padding: 12px 30px; border-radius: 8px; cursor: pointer;
    }
    .auth-screen .error { color: #ef4444; margin-top: 15px; display: none; }
    
    .container { max-width: 700px; margin: 0 auto; }
    
    .header { text-align: center; margin-bottom: 30px; }
    .header h1 { font-size: 1.6em; color: #fff; margin-bottom: 5px; }
    .header .sub { color: #666; font-size: 0.85em; }
    
    /* Project Cards */
    .projects { display: flex; flex-direction: column; gap: 12px; margin-bottom: 25px; }
    .project-card {
      background: #12121a;
      border-radius: 12px;
      padding: 18px 20px;
      border-left: 4px solid #333;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      color: inherit;
      display: block;
    }
    .project-card:hover { background: #1a1a24; border-left-color: #3b82f6; }
    .project-card.status-live { border-left-color: #22c55e; }
    .project-card.status-active { border-left-color: #3b82f6; }
    .project-card.status-paused { border-left-color: #666; }
    .project-card.status-funding { border-left-color: #eab308; }
    
    .project-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
    .project-name { font-size: 1.1em; font-weight: 600; }
    .project-status {
      font-size: 0.7em; padding: 4px 10px; border-radius: 12px; text-transform: uppercase; font-weight: 600;
    }
    .status-live { background: #22c55e22; color: #22c55e; }
    .status-active { background: #3b82f622; color: #3b82f6; }
    .status-paused { background: #66666622; color: #888; }
    .status-funding { background: #eab30822; color: #eab308; }
    
    .project-desc { color: #888; font-size: 0.85em; margin-bottom: 12px; }
    
    .project-progress { display: flex; align-items: center; gap: 10px; }
    .progress-bar { flex: 1; height: 6px; background: #222; border-radius: 3px; overflow: hidden; }
    .progress-fill { height: 100%; background: linear-gradient(90deg, #3b82f6, #8b5cf6); border-radius: 3px; }
    .progress-text { font-size: 0.75em; color: #666; min-width: 35px; }
    
    .project-stats { display: flex; gap: 15px; margin-top: 12px; padding-top: 12px; border-top: 1px solid #222; }
    .stat-mini { font-size: 0.8em; }
    .stat-mini span { color: #fff; font-weight: 600; }
    
    /* Quick Links */
    .links { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
    .link-btn {
      background: #12121a; color: #888; text-decoration: none;
      padding: 8px 14px; border-radius: 8px; font-size: 0.8em;
      border: 1px solid #222; transition: all 0.2s;
    }
    .link-btn:hover { border-color: #3b82f6; color: #fff; }
    
    .footer { text-align: center; margin-top: 25px; color: #444; font-size: 0.75em; }
    .footer span { cursor: pointer; margin: 0 8px; }
    .footer span:hover { color: #888; }
    
    #dashboard { display: none; }
  </style>
</head>
<body>
  <div id="auth" class="auth-screen">
    <h1>ü¶æ Mission Control</h1>
    <input type="password" id="tokenInput" placeholder="Access Token" onkeypress="if(event.key==='Enter')authenticate()">
    <button onclick="authenticate()">Login</button>
    <div class="error" id="error">‚ùå</div>
  </div>

  <div id="dashboard">
    <div class="container" id="app"></div>
  </div>

  <script>
    const TOKEN = '917d6be735a46dd4cd74bd0aa1700f99';
    
    function checkAuth() {
      const urlParams = new URLSearchParams(window.location.search);
      let token = urlParams.get('token') || localStorage.getItem('mc_token');
      if (token === TOKEN) {
        localStorage.setItem('mc_token', token);
        if (urlParams.has('token')) window.history.replaceState({}, '', window.location.pathname);
        document.getElementById('auth').style.display = 'none';
        document.getElementById('dashboard').style.display = 'block';
        render();
      }
    }

    function authenticate() {
      if (document.getElementById('tokenInput').value === TOKEN) {
        localStorage.setItem('mc_token', TOKEN);
        location.reload();
      } else {
        document.getElementById('error').style.display = 'block';
      }
    }

    function logout() { localStorage.removeItem('mc_token'); location.reload(); }

    // === PROJECT DATA ===
    const projects = [
      {
        id: "moltflip",
        name: "üé∞ MOLTFLIP",
        desc: "Coinflip Casino f√ºr AI Agents",
        status: "funding",
        progress: 85,
        link: "moltflip.html",
        stats: { treasury: "0 SOL", posts: 2, comments: 15 }
      },
      {
        id: "marketing",
        name: "ü¶û Moltbook Marketing",
        desc: "Community Building & Hype",
        status: "active",
        progress: 30,
        link: "moltflip.html",
        stats: { upvotes: 2, karma: 2 }
      },
      {
        id: "dashboard",
        name: "ü¶æ Mission Control",
        desc: "Projekt Dashboard",
        status: "live",
        progress: 100,
        link: null,
        stats: {}
      },
      {
        id: "ma-leads",
        name: "üìä M&A Leads",
        desc: "928 Leads f√ºr M&A Consulting",
        status: "paused",
        progress: 10,
        link: null,
        stats: { analyzed: "80/928" }
      }
    ];

    const quickLinks = [
      { label: "üé∞ MOLTFLIP Live", url: "https://miosjarvis-afk.github.io/moltflip/" },
      { label: "ü¶û Moltbook", url: "https://moltbook.com/u/moltflip" },
      { label: "üíª GitHub", url: "https://github.com/miosjarvis-afk" },
      { label: "üí∞ Treasury", url: "https://solscan.io/account/ChWbRpZfZy77rs5VNfXZ3hpCw5rkpyFcho34Pq7o6RBk?cluster=devnet" }
    ];

    function render() {
      document.getElementById('app').innerHTML = `
        <div class="header">
          <h1>ü¶æ Mission Control</h1>
          <div class="sub">Projekt-√úbersicht</div>
        </div>
        
        <div class="projects">
          ${projects.map(p => `
            <${p.link ? `a href="${p.link}"` : 'div'} class="project-card status-${p.status}">
              <div class="project-header">
                <span class="project-name">${p.name}</span>
                <span class="project-status status-${p.status}">${p.status}</span>
              </div>
              <div class="project-desc">${p.desc}</div>
              <div class="project-progress">
                <div class="progress-bar"><div class="progress-fill" style="width:${p.progress}%"></div></div>
                <span class="progress-text">${p.progress}%</span>
              </div>
              ${Object.keys(p.stats).length ? `
                <div class="project-stats">
                  ${Object.entries(p.stats).map(([k,v]) => `<span class="stat-mini">${k}: <span>${v}</span></span>`).join('')}
                </div>
              ` : ''}
            </${p.link ? 'a' : 'div'}>
          `).join('')}
        </div>
        
        <div class="links">
          ${quickLinks.map(l => `<a href="${l.url}" target="_blank" class="link-btn">${l.label}</a>`).join('')}
        </div>
        
        <div class="footer">
          <span onclick="location.reload()">‚Üª Refresh</span>
          <span onclick="logout()">Logout</span>
        </div>
      `;
    }

    checkAuth();
  </script>
</body>
</html>
