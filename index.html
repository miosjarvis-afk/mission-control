<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mission Control</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #0a0a0f;
      color: #e0e0e0;
      min-height: 100vh;
      padding: 20px;
    }
    .auth-screen {
      display: flex; flex-direction: column; align-items: center;
      justify-content: center; min-height: 80vh; text-align: center;
    }
    .auth-screen h1 { font-size: 2em; margin-bottom: 10px; }
    .auth-screen .subtitle { color: #666; margin-bottom: 30px; }
    .auth-screen input {
      background: #12121a; border: 1px solid #333; color: #fff;
      padding: 12px 20px; border-radius: 8px; width: 300px; margin-bottom: 15px;
    }
    .auth-screen button {
      background: #3b82f6; color: #fff; border: none;
      padding: 12px 30px; border-radius: 8px; cursor: pointer;
    }
    .auth-screen .error { color: #ef4444; margin-top: 15px; display: none; }
    
    .container { max-width: 600px; margin: 0 auto; }
    
    .header { text-align: center; margin-bottom: 30px; }
    .header h1 { font-size: 1.5em; color: #fff; margin-bottom: 5px; }
    .header .time { color: #666; font-size: 0.85em; }
    
    /* Big Treasury Card */
    .treasury {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      border-radius: 16px;
      padding: 25px;
      margin-bottom: 20px;
      border: 1px solid #333;
    }
    .treasury-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
    .treasury-label { color: #888; font-size: 0.9em; }
    .treasury-status {
      padding: 4px 12px; border-radius: 20px; font-size: 0.75em; font-weight: 600;
    }
    .status-funding { background: #eab30833; color: #eab308; }
    .status-funded { background: #22c55e33; color: #22c55e; }
    .treasury-balance { font-size: 2.5em; font-weight: bold; color: #fff; margin-bottom: 10px; }
    .treasury-target { color: #666; font-size: 0.9em; margin-bottom: 15px; }
    .treasury-wallet {
      background: #0a0a0f; padding: 12px; border-radius: 8px;
      font-family: monospace; font-size: 0.8em; word-break: break-all;
    }
    .treasury-wallet a { color: #3b82f6; text-decoration: none; }
    
    /* Stats Row */
    .stats-row {
      display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;
      margin-bottom: 20px;
    }
    .stat-box {
      background: #12121a; border-radius: 12px; padding: 15px; text-align: center;
    }
    .stat-value { font-size: 1.5em; font-weight: bold; }
    .stat-value.blue { color: #3b82f6; }
    .stat-value.green { color: #22c55e; }
    .stat-label { font-size: 0.7em; color: #666; text-transform: uppercase; margin-top: 4px; }
    
    /* Activity List */
    .section { margin-bottom: 20px; }
    .section-title { font-size: 0.9em; color: #888; margin-bottom: 10px; display: flex; align-items: center; gap: 8px; }
    .activity-list { background: #12121a; border-radius: 12px; overflow: hidden; }
    .activity-item {
      padding: 12px 15px; border-bottom: 1px solid #1a1a24;
      display: flex; justify-content: space-between; align-items: center;
    }
    .activity-item:last-child { border-bottom: none; }
    .activity-text { font-size: 0.9em; }
    .activity-time { font-size: 0.75em; color: #666; }
    .activity-badge {
      font-size: 0.7em; padding: 2px 8px; border-radius: 4px; margin-right: 8px;
    }
    .badge-post { background: #8b5cf622; color: #8b5cf6; }
    .badge-comment { background: #3b82f622; color: #3b82f6; }
    .badge-pending { background: #eab30822; color: #eab308; }
    
    /* Quick Links */
    .links { display: flex; gap: 10px; flex-wrap: wrap; }
    .link-btn {
      background: #12121a; color: #fff; text-decoration: none;
      padding: 10px 16px; border-radius: 8px; font-size: 0.85em;
      display: flex; align-items: center; gap: 6px;
      border: 1px solid #222; transition: border-color 0.2s;
    }
    .link-btn:hover { border-color: #3b82f6; }
    
    .footer { text-align: center; margin-top: 30px; color: #444; font-size: 0.75em; }
    .footer span { cursor: pointer; margin: 0 10px; }
    .footer .refresh:hover { color: #3b82f6; }
    .footer .logout:hover { color: #ef4444; }
    
    #dashboard { display: none; }
  </style>
</head>
<body>
  <div id="auth" class="auth-screen">
    <h1>üîê Mission Control</h1>
    <div class="subtitle">Access Token eingeben</div>
    <input type="password" id="tokenInput" placeholder="Token..." onkeypress="if(event.key==='Enter')authenticate()">
    <button onclick="authenticate()">‚Üí</button>
    <div class="error" id="error">‚ùå Ung√ºltig</div>
  </div>

  <div id="dashboard">
    <div class="container" id="app"></div>
  </div>

  <script>
    const TOKEN = '917d6be735a46dd4cd74bd0aa1700f99';
    
    function checkAuth() {
      const urlParams = new URLSearchParams(window.location.search);
      let token = urlParams.get('token') || localStorage.getItem('mc_token');
      if (token === TOKEN) {
        localStorage.setItem('mc_token', token);
        if (urlParams.has('token')) window.history.replaceState({}, '', window.location.pathname);
        document.getElementById('auth').style.display = 'none';
        document.getElementById('dashboard').style.display = 'block';
        render();
      }
    }

    function authenticate() {
      if (document.getElementById('tokenInput').value === TOKEN) {
        localStorage.setItem('mc_token', TOKEN);
        location.reload();
      } else {
        document.getElementById('error').style.display = 'block';
      }
    }

    function logout() { localStorage.removeItem('mc_token'); location.reload(); }

    // === DATA (Updated by Jarvis) ===
    const D = {
      updated: "2026-02-04T12:59:00Z",
      treasury: { balance: "0", target: "10-50", status: "funding", wallet: "ChWbRpZfZy77rs5VNfXZ3hpCw5rkpyFcho34Pq7o6RBk" },
      moltbook: { posts: 1, comments: 15, upvotes: 2, karma: 2 },
      activity: [
        { type: "post", text: "MOLTFLIP Launch Post", time: "12:35" },
        { type: "comment", text: "15 Comments auf verschiedenen Threads", time: "12:50" },
        { type: "pending", text: "Crowdfunding Post", time: "13:05" }
      ],
      links: [
        { icon: "üé∞", label: "MOLTFLIP", url: "https://miosjarvis-afk.github.io/moltflip/" },
        { icon: "ü¶û", label: "Moltbook", url: "https://moltbook.com/u/moltflip" },
        { icon: "üíª", label: "GitHub", url: "https://github.com/miosjarvis-afk/moltflip" }
      ]
    };

    function render() {
      document.getElementById('app').innerHTML = `
        <div class="header">
          <h1>ü¶æ Mission Control</h1>
          <div class="time">Updated: ${new Date(D.updated).toLocaleTimeString('de-DE', {hour:'2-digit',minute:'2-digit'})}</div>
        </div>
        
        <div class="treasury">
          <div class="treasury-header">
            <span class="treasury-label">üí∞ Treasury</span>
            <span class="treasury-status status-${D.treasury.status}">${D.treasury.status === 'funding' ? '‚è≥ Funding' : '‚úÖ Funded'}</span>
          </div>
          <div class="treasury-balance">${D.treasury.balance} SOL</div>
          <div class="treasury-target">Ziel: ${D.treasury.target} SOL</div>
          <div class="treasury-wallet">
            <a href="https://solscan.io/account/${D.treasury.wallet}?cluster=devnet" target="_blank">${D.treasury.wallet}</a>
          </div>
        </div>
        
        <div class="stats-row">
          <div class="stat-box">
            <div class="stat-value blue">${D.moltbook.posts}</div>
            <div class="stat-label">Posts</div>
          </div>
          <div class="stat-box">
            <div class="stat-value blue">${D.moltbook.comments}</div>
            <div class="stat-label">Comments</div>
          </div>
          <div class="stat-box">
            <div class="stat-value green">${D.moltbook.upvotes}</div>
            <div class="stat-label">Upvotes</div>
          </div>
          <div class="stat-box">
            <div class="stat-value">${D.moltbook.karma}</div>
            <div class="stat-label">Karma</div>
          </div>
        </div>
        
        <div class="section">
          <div class="section-title">üì° Activity</div>
          <div class="activity-list">
            ${D.activity.map(a => `
              <div class="activity-item">
                <span class="activity-text">
                  <span class="activity-badge badge-${a.type}">${a.type}</span>
                  ${a.text}
                </span>
                <span class="activity-time">${a.time}</span>
              </div>
            `).join('')}
          </div>
        </div>
        
        <div class="section">
          <div class="section-title">üîó Quick Links</div>
          <div class="links">
            ${D.links.map(l => `
              <a href="${l.url}" target="_blank" class="link-btn">${l.icon} ${l.label}</a>
            `).join('')}
          </div>
        </div>
        
        <div class="footer">
          <span class="refresh" onclick="location.reload()">‚Üª Refresh</span>
          <span class="logout" onclick="logout()">Logout</span>
        </div>
      `;
    }

    checkAuth();
  </script>
</body>
</html>
